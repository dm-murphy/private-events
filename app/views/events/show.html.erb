<h1>Private Events #show</h1>

<div>
<li>Event Name: <%= @event.title %>
</li>
<li>Description: <%= @event.description %>
</li>
<li>Event Date: <%= @event.date %>
</li>
<li>Event Creator: <%= @event.creator.email %>
</li>
<li>Attend this Event:
  <% if user_signed_in? %>
    
    <%= render 'invitation_form' %>
  <% else %>
    <p> Log in to attend this event</p>
  <% end %>  
</li>
<li>Remove Yourself from This Event:
  <% if user_signed_in? %>
    <%= render 'remove_invitation_form' %>
    
  <% else %>
    <p>Log in to remove yourself from this event</p>
  <% end %>
</li>

<% if user_signed_in? && current_user == @event.creator && @event.exclusive == true %>
<div>
  <p>Invite Guests to Your Exclusive Event:</p>
  <%= render 'guest_list_form' %>
</div>
<% end %>

<li>TEST Accepted Users:
  <% @event.attendees.each do |attendee| %>
    <% invite = attendee.invitations.find_by(event_id: @event.id) %>
    <% if invite.acceptance == true %>
      <%= attendee.email %>
    <% end %>
  <% end %>
</li>

<li>Users attending this event: 
  <% @event.attendees.each do |attendee| %>
    <%= attendee.email %>
  <% end %>
</li>

<% if current_user == @event.creator %>
  <li>Edit this Event:
  <%= link_to 'Edit', edit_event_path(@event) %>
<% end %>

</li>
<% if @event.creator == current_user %>
  <li>Delete this Event:
  <%= link_to 'Destroy', event_path(@event), 
              method: :delete, 
              data: { confirm: "Are you sure you want to delete this event?" } %>
  </li>
<% end %>
</div>
